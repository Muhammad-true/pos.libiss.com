import{t as u}from"./styles-DXc76zUi.js";const h="libiss-pos-lang",S="ru",b=Array.from(document.querySelectorAll("[data-i18n]")),k=Array.from(document.querySelectorAll("[data-i18n-attr]")),L=Array.from(document.querySelectorAll(".lang-btn")),a=Array.from(document.querySelectorAll("[data-gallery]")),r=document.querySelector("[data-lightbox]"),n=document.querySelector("[data-lightbox-image]"),m=document.querySelector("[data-zoom-in]"),f=document.querySelector("[data-zoom-out]"),y=document.querySelector("[data-prev]"),g=document.querySelector("[data-next]"),p=Array.from(document.querySelectorAll("[data-lightbox-close]"));let s=1,c=-1;const q=()=>{const t=localStorage.getItem(h);return t&&u[t]?t:navigator.language.toLowerCase().startsWith("ru")?"ru":"en"},E=t=>{const e=u[t]||u[S];b.forEach(o=>{const l=o.dataset.i18n;e[l]&&(o.textContent=e[l])}),k.forEach(o=>{const l=o.dataset.i18nAttr,d=o.dataset.i18nKey;l&&d&&e[d]&&o.setAttribute(l,e[d])}),document.documentElement.lang=t,L.forEach(o=>{o.classList.toggle("is-active",o.dataset.lang===t)}),localStorage.setItem(h,t)};L.forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.lang;e&&E(e)})});const x=(t,e,o=0)=>{!r||!n||(s=1,c=o,n.src=t,n.alt=e||"",n.style.transform=`scale(${s})`,r.classList.add("is-open"),document.body.style.overflow="hidden")},A=()=>{r&&(r.classList.remove("is-open"),document.body.style.overflow="",c=-1,n&&(n.src="",n.alt=""))},v=t=>{s=Math.min(3,Math.max(.6,t)),n&&(n.style.transform=`scale(${s})`)};a.forEach(t=>{t.addEventListener("click",()=>{const e=a.indexOf(t);x(t.dataset.src,t.dataset.alt,e)})});m&&m.addEventListener("click",()=>v(s+.2));f&&f.addEventListener("click",()=>v(s-.2));const i=t=>{if(!a.length)return;const e=(t+a.length)%a.length,o=a[e];x(o.dataset.src,o.dataset.alt,e)};y&&y.addEventListener("click",()=>i(c-1));g&&g.addEventListener("click",()=>i(c+1));p.forEach(t=>{t.addEventListener("click",A)});window.addEventListener("keydown",t=>{!r||!r.classList.contains("is-open")||(t.key==="Escape"&&A(),t.key==="ArrowLeft"&&i(c-1),t.key==="ArrowRight"&&i(c+1))});E(q());
